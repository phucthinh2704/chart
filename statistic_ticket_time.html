<!DOCTYPE html>
<html lang="vi">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>B√°o c√°o th·ªëng k√™ b√°n v√© theo th·ªùi gian</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				min-height: 100vh;
				padding: 20px;
			}

			.container {
				max-width: 1600px;
				margin: 0 auto;
				background: rgba(255, 255, 255, 0.95);
				border-radius: 20px;
				padding: 30px;
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
				backdrop-filter: blur(10px);
			}

			.header {
				text-align: center;
				margin-bottom: 40px;
				padding: 20px;
				background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
				border-radius: 15px;
				color: white;
				position: relative;
				overflow: hidden;
			}

			.header::before {
				content: "";
				position: absolute;
				top: -50%;
				left: -50%;
				width: 200%;
				height: 200%;
				background: radial-gradient(
					circle,
					rgba(255, 255, 255, 0.1) 0%,
					transparent 70%
				);
				animation: pulse 4s ease-in-out infinite;
			}

			@keyframes pulse {
				0%,
				100% {
					transform: scale(1);
					opacity: 0.7;
				}
				50% {
					transform: scale(1.05);
					opacity: 1;
				}
			}

			h1 {
				font-size: 2.5em;
				margin-bottom: 10px;
				position: relative;
				z-index: 1;
			}

			.subtitle {
				font-size: 1.2em;
				opacity: 0.9;
				position: relative;
				z-index: 1;
			}

			.purpose {
				background: linear-gradient(135deg, #74b9ff, #0984e3);
				color: white;
				padding: 20px;
				border-radius: 15px;
				margin-bottom: 30px;
				box-shadow: 0 10px 30px rgba(116, 185, 255, 0.3);
			}

			.purpose h2 {
				margin-bottom: 15px;
				font-size: 1.5em;
			}

			.time-filter {
				display: flex;
				justify-content: center;
				gap: 20px;
				margin-bottom: 30px;
				flex-wrap: wrap;
			}

			.filter-btn {
				padding: 12px 24px;
				border: none;
				border-radius: 25px;
				background: linear-gradient(135deg, #667eea, #764ba2);
				color: white;
				font-size: 16px;
				cursor: pointer;
				transition: all 0.3s ease;
				box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
			}

			.filter-btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
			}

			.filter-btn.active {
				background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
				transform: translateY(-2px);
			}

			.stats-overview {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				gap: 20px;
				margin-bottom: 30px;
			}

			.stat-card {
				background: linear-gradient(135deg, #667eea, #764ba2);
				color: white;
				padding: 25px;
				border-radius: 15px;
				text-align: center;
				box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
				transition: transform 0.3s ease;
				position: relative;
				overflow: hidden;
			}

			.stat-card::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: linear-gradient(
					45deg,
					transparent,
					rgba(255, 255, 255, 0.1),
					transparent
				);
				transform: translateX(-100%);
				transition: transform 0.6s;
			}

			.stat-card:hover::before {
				transform: translateX(100%);
			}

			.stat-card:hover {
				transform: scale(1.05);
			}

			.stat-icon {
				font-size: 2.5em;
				margin-bottom: 10px;
			}

			.stat-number {
				font-size: 2.2em;
				font-weight: bold;
				margin-bottom: 5px;
			}

			.stat-label {
				font-size: 1.1em;
				opacity: 0.9;
			}

			.stat-change {
				font-size: 0.9em;
				margin-top: 5px;
				opacity: 0.8;
			}

			.charts-grid {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 30px;
				margin-bottom: 30px;
			}

			.chart-container {
				background: white;
				border-radius: 15px;
				padding: 25px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
				transition: transform 0.3s ease, box-shadow 0.3s ease;
			}

			.chart-container:hover {
				transform: translateY(-5px);
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
			}

			.chart-title {
				font-size: 1.4em;
				font-weight: 600;
				margin-bottom: 20px;
				color: #2d3748;
				text-align: center;
				padding-bottom: 10px;
				border-bottom: 2px solid #e2e8f0;
			}

			.chart-wrapper {
				position: relative;
				height: 300px;
			}

			.large-chart {
				grid-column: 1 / -1;
				height: 400px;
			}

			.data-table {
				background: white;
				border-radius: 15px;
				padding: 25px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
				margin-bottom: 30px;
			}

			.table-title {
				font-size: 1.4em;
				font-weight: 600;
				margin-bottom: 20px;
				color: #2d3748;
				text-align: center;
			}

			.table-wrapper {
				overflow-x: auto;
				border-radius: 10px;
			}

			table {
				width: 100%;
				border-collapse: collapse;
				background: white;
			}

			th,
			td {
				padding: 15px;
				text-align: left;
				border-bottom: 1px solid #e2e8f0;
			}

			th {
				background: linear-gradient(135deg, #667eea, #764ba2);
				color: white;
				font-weight: 600;
				position: sticky;
				top: 0;
			}

			tr:hover {
				background: rgba(102, 126, 234, 0.05);
			}

			.number {
				font-weight: bold;
				color: #2d3748;
			}

			.positive {
				color: #48bb78;
			}

			.negative {
				color: #f56565;
			}

			.insights {
				background: linear-gradient(135deg, #f093fb, #f5576c);
				color: white;
				padding: 25px;
				border-radius: 15px;
				margin-top: 30px;
				box-shadow: 0 10px 30px rgba(240, 147, 251, 0.3);
			}

			.insights h2 {
				margin-bottom: 20px;
				font-size: 1.5em;
			}

			.insights-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 20px;
			}

			.insight-item {
				background: rgba(255, 255, 255, 0.1);
				padding: 15px;
				border-radius: 10px;
				border-left: 4px solid #fff;
			}

			.insight-title {
				font-weight: bold;
				margin-bottom: 8px;
			}

			.container .header__main {
				background: linear-gradient(135deg, #74b9ff, #0984e3);
				padding: 20px 0;
				box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
				margin-bottom: 40px;
			}

			.container .header__main .nav__main {
				display: flex;
				justify-content: center;
				gap: 30px;
			}

			.container .header__main .nav__main a {
				color: white;
				text-decoration: none;
				font-size: 30px;
				font-weight: 500;
				padding: 12px 25px;
				border-radius: 25px;
				transition: all 0.3s ease;
				position: relative;
				overflow: hidden;
			}

			.container .header__main .nav__main a::before {
				content: "";
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: rgba(255, 255, 255, 0.1);
				transition: left 0.4s ease;
			}

			.container .header__main .nav__main a:hover::before {
				left: 0;
			}

			.container .header__main .nav__main a:hover {
				transform: translateY(-3px);
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
				background-color: rgba(255, 255, 255, 0.1);
			}

			@media (max-width: 768px) {
				.charts-grid {
					grid-template-columns: 1fr;
				}

				.container {
					padding: 20px;
				}

				h1 {
					font-size: 2em;
				}

				.time-filter {
					flex-direction: column;
					align-items: center;
				}

				.filter-btn {
					width: 200px;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<header class="header__main">
				<nav class="nav__main">
					<a href="./index.html">T·ªïng quan</a>
					<a href="./analysis_customer.html">Kh√°ch h√†ng</a>
					<a href="./statistic_ticket_time.html">V√©</a>
				</nav>
			</header>
			<div class="header">
				<h1>üé´ B√°o c√°o th·ªëng k√™ b√°n v√© theo th·ªùi gian</h1>
				<p class="subtitle">
					Theo d√µi doanh thu v√† hi·ªáu su·∫•t b√°n v√© chi ti·∫øt
				</p>
			</div>

			<div class="purpose">
				<h2>üéØ M·ª•c ƒë√≠ch</h2>
				<p>
					Th·ªëng k√™ doanh thu, ƒë√°nh gi√° hi·ªáu su·∫•t, theo d√µi l∆∞·ª£ng kh√°ch
					theo ng√†y/tu·∫ßn ƒë·ªÉ t·ªëi ∆∞u h√≥a chi·∫øn l∆∞·ª£c kinh doanh v√† d·ª± b√°o
					xu h∆∞·ªõng.
				</p>
			</div>

			<div class="time-filter">
				<button
					class="filter-btn active"
					onclick="changeTimeFilter('day')">
					Theo ng√†y
				</button>
				<button
					class="filter-btn"
					onclick="changeTimeFilter('week')">
					Theo tu·∫ßn
				</button>
				<button
					class="filter-btn"
					onclick="changeTimeFilter('month')">
					Theo th√°ng
				</button>
				<button
					class="filter-btn"
					onclick="changeTimeFilter('year')">
					Theo nƒÉm
				</button>
			</div>

			<div class="stats-overview">
				<div class="stat-card">
					<div class="stat-icon">üé´</div>
					<div
						class="stat-number"
						id="totalTickets">
						15,247
					</div>
					<div class="stat-label">T·ªïng s·ªë v√© b√°n</div>
					<div class="stat-change positive">
						+12.5% so v·ªõi k·ª≥ tr∆∞·ªõc
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">üí∞</div>
					<div
						class="stat-number"
						id="totalRevenue">
						45.2M
					</div>
					<div class="stat-label">T·ªïng doanh thu (VNƒê)</div>
					<div class="stat-change positive">
						+18.3% so v·ªõi k·ª≥ tr∆∞·ªõc
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">üìä</div>
					<div
						class="stat-number"
						id="avgPrice">
						2,965
					</div>
					<div class="stat-label">Gi√° v√© trung b√¨nh</div>
					<div class="stat-change positive">
						+5.2% so v·ªõi k·ª≥ tr∆∞·ªõc
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">‚ö°</div>
					<div
						class="stat-number"
						id="peakHour">
						14:00
					</div>
					<div class="stat-label">Gi·ªù cao ƒëi·ªÉm</div>
					<div class="stat-change">1,250 v√©/gi·ªù</div>
				</div>
			</div>

			<div class="charts-grid">
				<div class="chart-container">
					<h3 class="chart-title">üìà S·ªë l∆∞·ª£ng v√© b√°n theo gi·ªù</h3>
					<div class="chart-wrapper">
						<canvas id="hourlyChart"></canvas>
					</div>
				</div>

				<div class="chart-container">
					<h3 class="chart-title">üìä So s√°nh theo ng√†y trong tu·∫ßn</h3>
					<div class="chart-wrapper">
						<canvas id="weeklyChart"></canvas>
					</div>
				</div>

				<div class="chart-container large-chart">
					<h3 class="chart-title">üìâ Xu h∆∞·ªõng b√°n v√© trong th√°ng</h3>
					<div class="chart-wrapper">
						<canvas id="monthlyChart"></canvas>
					</div>
				</div>
			</div>

			<div class="data-table">
				<h3 class="table-title">üìã B·∫£ng th·ªëng k√™ chi ti·∫øt</h3>
				<div class="table-wrapper">
					<table id="salesTable">
						<thead>
							<tr>
								<th>Ng√†y</th>
								<th>S·ªë v√© b√°n</th>
								<th>Doanh thu (VNƒê)</th>
								<th>Gi√° TB</th>
								<th>Thay ƒë·ªïi</th>
							</tr>
						</thead>
						<tbody>
							<!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
						</tbody>
					</table>
				</div>
			</div>

			<div class="insights">
				<h2>üí° Th√¥ng tin chi ti·∫øt & Khuy·∫øn ngh·ªã</h2>
				<div class="insights-grid">
					<div class="insight-item">
						<div class="insight-title">üïê Gi·ªù cao ƒëi·ªÉm</div>
						<div>
							14:00-16:00 l√† khung gi·ªù b√°n v√© m·∫°nh nh·∫•t. N√™n tƒÉng
							c∆∞·ªùng nh√¢n s·ª± v√† h·ªá th·ªëng trong th·ªùi gian n√†y.
						</div>
					</div>
					<div class="insight-item">
						<div class="insight-title">üìÖ Ng√†y trong tu·∫ßn</div>
						<div>
							Th·ª© 6 v√† Ch·ªß nh·∫≠t c√≥ l∆∞·ª£ng v√© b√°n cao nh·∫•t. C√¢n nh·∫Øc
							tƒÉng gi√° v√© v√†o nh·ªØng ng√†y n√†y.
						</div>
					</div>
					<div class="insight-item">
						<div class="insight-title">üìà Xu h∆∞·ªõng tƒÉng tr∆∞·ªüng</div>
						<div>
							Doanh thu tƒÉng 18.3% so v·ªõi k·ª≥ tr∆∞·ªõc, cho th·∫•y tri·ªÉn
							v·ªçng kinh doanh t√≠ch c·ª±c.
						</div>
					</div>
					<div class="insight-item">
						<div class="insight-title">üéØ C∆° h·ªôi t·ªëi ∆∞u</div>
						<div>
							Gi·ªù th·∫•p ƒëi·ªÉm (9:00-11:00) c√≥ th·ªÉ √°p d·ª•ng khuy·∫øn m√£i
							ƒë·ªÉ k√≠ch th√≠ch nhu c·∫ßu.
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			// D·ªØ li·ªáu m·∫´u
			const salesData = {
				day: {
					labels: [
						"6:00",
						"7:00",
						"8:00",
						"9:00",
						"10:00",
						"11:00",
						"12:00",
						"13:00",
						"14:00",
						"15:00",
						"16:00",
						"17:00",
						"18:00",
						"19:00",
						"20:00",
						"21:00",
						"22:00",
					],
					tickets: [
						120, 180, 220, 150, 140, 130, 380, 520, 650, 580, 490,
						420, 380, 340, 280, 220, 180,
					],
					revenue: [
						360, 540, 660, 450, 420, 390, 1140, 1560, 1950, 1740,
						1470, 1260, 1140, 1020, 840, 660, 540,
					],
				},
				week: {
					labels: [
						"Th·ª© 2",
						"Th·ª© 3",
						"Th·ª© 4",
						"Th·ª© 5",
						"Th·ª© 6",
						"Th·ª© 7",
						"Ch·ªß nh·∫≠t",
					],
					tickets: [1850, 1920, 1780, 2100, 2450, 2280, 2650],
					revenue: [5.55, 5.76, 5.34, 6.3, 7.35, 6.84, 7.95],
				},
				month: {
					labels: ["Tu·∫ßn 1", "Tu·∫ßn 2", "Tu·∫ßn 3", "Tu·∫ßn 4"],
					tickets: [12500, 13200, 14800, 15900],
					revenue: [37.5, 39.6, 44.4, 47.7],
				},
			};

			let currentFilter = "day";

			// C·∫•u h√¨nh chung cho bi·ªÉu ƒë·ªì
			const chartOptions = {
				responsive: true,
				maintainAspectRatio: false,
				plugins: {
					legend: {
						display: false,
					},
				},
				scales: {
					y: {
						beginAtZero: true,
						grid: {
							color: "#f1f3f4",
						},
					},
					x: {
						grid: {
							display: false,
						},
					},
				},
				animation: {
					duration: 1500,
					easing: "easeInOutQuart",
				},
			};

			let hourlyChart, weeklyChart, monthlyChart;

			// Kh·ªüi t·∫°o bi·ªÉu ƒë·ªì
			function initCharts() {
				// Bi·ªÉu ƒë·ªì theo gi·ªù
				const hourlyCtx = document
					.getElementById("hourlyChart")
					.getContext("2d");
				hourlyChart = new Chart(hourlyCtx, {
					type: "line",
					data: {
						labels: salesData.day.labels,
						datasets: [
							{
								label: "S·ªë v√© b√°n",
								data: salesData.day.tickets,
								borderColor: "#667eea",
								backgroundColor: "rgba(102, 126, 234, 0.1)",
								borderWidth: 3,
								fill: true,
								tension: 0.4,
								pointBackgroundColor: "#667eea",
								pointBorderColor: "#fff",
								pointBorderWidth: 3,
								pointRadius: 6,
							},
						],
					},
					options: chartOptions,
				});

				// Bi·ªÉu ƒë·ªì theo tu·∫ßn
				const weeklyCtx = document
					.getElementById("weeklyChart")
					.getContext("2d");
				weeklyChart = new Chart(weeklyCtx, {
					type: "bar",
					data: {
						labels: salesData.week.labels,
						datasets: [
							{
								label: "S·ªë v√© b√°n",
								data: salesData.week.tickets,
								backgroundColor: [
									"#ff6b6b",
									"#4ecdc4",
									"#45b7d1",
									"#f9ca24",
									"#f0932b",
									"#eb4d4b",
									"#6c5ce7",
								],
								borderRadius: 8,
								borderSkipped: false,
							},
						],
					},
					options: chartOptions,
				});

				// Bi·ªÉu ƒë·ªì theo th√°ng
				const monthlyCtx = document
					.getElementById("monthlyChart")
					.getContext("2d");
				monthlyChart = new Chart(monthlyCtx, {
					type: "line",
					data: {
						labels: salesData.month.labels,
						datasets: [
							{
								label: "S·ªë v√© b√°n",
								data: salesData.month.tickets,
								borderColor: "#4ecdc4",
								backgroundColor: "rgba(78, 205, 196, 0.1)",
								borderWidth: 4,
								fill: true,
								tension: 0.4,
								pointBackgroundColor: "#4ecdc4",
								pointBorderColor: "#fff",
								pointBorderWidth: 3,
								pointRadius: 8,
							},
							{
								label: "Doanh thu (tri·ªáu VNƒê)",
								data: salesData.month.revenue,
								borderColor: "#ff6b6b",
								backgroundColor: "rgba(255, 107, 107, 0.1)",
								borderWidth: 4,
								fill: true,
								tension: 0.4,
								pointBackgroundColor: "#ff6b6b",
								pointBorderColor: "#fff",
								pointBorderWidth: 3,
								pointRadius: 8,
								yAxisID: "y1",
							},
						],
					},
					options: {
						...chartOptions,
						plugins: {
							legend: {
								display: true,
								position: "top",
							},
						},
						scales: {
							y: {
								type: "linear",
								display: true,
								position: "left",
								beginAtZero: true,
								grid: {
									color: "#f1f3f4",
								},
							},
							y1: {
								type: "linear",
								display: true,
								position: "right",
								beginAtZero: true,
								grid: {
									drawOnChartArea: false,
								},
							},
							x: {
								grid: {
									display: false,
								},
							},
						},
					},
				});
			}

			// T·∫°o b·∫£ng d·ªØ li·ªáu
			function createTable() {
				const tableBody = document.querySelector("#salesTable tbody");
				const dailyData = [
					{
						date: "15/07/2025",
						tickets: 2650,
						revenue: 7.95,
						avgPrice: 3000,
						change: "+5.2%",
					},
					{
						date: "14/07/2025",
						tickets: 2280,
						revenue: 6.84,
						avgPrice: 3000,
						change: "+2.8%",
					},
					{
						date: "13/07/2025",
						tickets: 2450,
						revenue: 7.35,
						avgPrice: 3000,
						change: "+8.1%",
					},
					{
						date: "12/07/2025",
						tickets: 2100,
						revenue: 6.3,
						avgPrice: 3000,
						change: "+3.5%",
					},
					{
						date: "11/07/2025",
						tickets: 1780,
						revenue: 5.34,
						avgPrice: 3000,
						change: "-1.2%",
					},
					{
						date: "10/07/2025",
						tickets: 1920,
						revenue: 5.76,
						avgPrice: 3000,
						change: "+4.7%",
					},
					{
						date: "09/07/2025",
						tickets: 1850,
						revenue: 5.55,
						avgPrice: 3000,
						change: "+1.8%",
					},
				];

				dailyData.forEach((row) => {
					const tr = document.createElement("tr");
					tr.innerHTML = `
                    <td>${row.date}</td>
                    <td class="number">${row.tickets.toLocaleString()}</td>
                    <td class="number">${row.revenue}M</td>
                    <td class="number">${row.avgPrice.toLocaleString()}‚Ç´</td>
                    <td class="number ${
						row.change.includes("+") ? "positive" : "negative"
					}">${row.change}</td>
                `;
					tableBody.appendChild(tr);
				});
			}

			// Thay ƒë·ªïi b·ªô l·ªçc th·ªùi gian
			function changeTimeFilter(filter) {
				// C·∫≠p nh·∫≠t tr·∫°ng th√°i button
				document.querySelectorAll(".filter-btn").forEach((btn) => {
					btn.classList.remove("active");
				});
				event.target.classList.add("active");

				currentFilter = filter;

				// C·∫≠p nh·∫≠t th·ªëng k√™ t·ªïng quan
				updateOverviewStats(filter);
			}

			// C·∫≠p nh·∫≠t th·ªëng k√™ t·ªïng quan
			function updateOverviewStats(filter) {
				const stats = {
					day: {
						tickets: "15,247",
						revenue: "45.2M",
						avgPrice: "2,965",
						peakHour: "14:00",
					},
					week: {
						tickets: "106,729",
						revenue: "316.5M",
						avgPrice: "2,965",
						peakHour: "Th·ª© 6",
					},
					month: {
						tickets: "427,980",
						revenue: "1.28B",
						avgPrice: "2,990",
						peakHour: "Tu·∫ßn 4",
					},
					year: {
						tickets: "5.2M",
						revenue: "15.6B",
						avgPrice: "3,000",
						peakHour: "Th√°ng 12",
					},
				};

				const currentStats = stats[filter];
				document.getElementById("totalTickets").textContent =
					currentStats.tickets;
				document.getElementById("totalRevenue").textContent =
					currentStats.revenue;
				document.getElementById("avgPrice").textContent =
					currentStats.avgPrice;
				document.getElementById("peakHour").textContent =
					currentStats.peakHour;
			}

			// Kh·ªüi t·∫°o trang
			document.addEventListener("DOMContentLoaded", function () {
				initCharts();
				createTable();

				// Th√™m hi·ªáu ·ª©ng hover cho stat cards
				document.querySelectorAll(".stat-card").forEach((card) => {
					card.addEventListener("mouseenter", function () {
						this.style.transform = "scale(1.05) rotate(1deg)";
					});

					card.addEventListener("mouseleave", function () {
						this.style.transform = "scale(1) rotate(0deg)";
					});
				});

				// Th√™m hi·ªáu ·ª©ng cho table rows
				document.querySelectorAll("tbody tr").forEach((row) => {
					row.addEventListener("click", function () {
						this.style.background = "rgba(102, 126, 234, 0.1)";
						setTimeout(() => {
							this.style.background = "";
						}, 300);
					});
				});
			});
		</script>
	</body>
</html>
