<!DOCTYPE html>
<html lang="vi">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>B√°o c√°o ph√¢n t√≠ch kh√°ch h√†ng</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
				background: linear-gradient(135deg, #74b9ff, #0984e3);
				min-height: 100vh;
				padding: 20px;
			}

			.container {
				max-width: 1400px;
				margin: 0 auto;
				background: rgba(255, 255, 255, 0.95);
				border-radius: 20px;
				padding: 30px;
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
				backdrop-filter: blur(10px);
			}

			.header {
				text-align: center;
				margin-bottom: 40px;
				padding: 20px;
				background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
				border-radius: 15px;
				color: white;
				position: relative;
				overflow: hidden;
			}

			.header::before {
				content: "";
				position: absolute;
				top: -50%;
				left: -50%;
				width: 200%;
				height: 200%;
				background: radial-gradient(
					circle,
					rgba(255, 255, 255, 0.1) 0%,
					transparent 70%
				);
				animation: pulse 4s ease-in-out infinite;
			}

			@keyframes pulse {
				0%,
				100% {
					transform: scale(1);
					opacity: 0.7;
				}
				50% {
					transform: scale(1.05);
					opacity: 1;
				}
			}

			h1 {
				font-size: 2.5em;
				margin-bottom: 10px;
				position: relative;
				z-index: 1;
			}

			.subtitle {
				font-size: 1.2em;
				opacity: 0.9;
				position: relative;
				z-index: 1;
			}

			.purpose {
				background: linear-gradient(135deg, #74b9ff, #0984e3);
				color: white;
				padding: 20px;
				border-radius: 15px;
				margin-bottom: 30px;
				box-shadow: 0 10px 30px rgba(116, 185, 255, 0.3);
			}

			.purpose h2 {
				margin-bottom: 15px;
				font-size: 1.5em;
			}

			.dashboard {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
				gap: 30px;
				margin-bottom: 30px;
			}

			.chart-container {
				background: white;
				border-radius: 15px;
				padding: 25px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
				transition: transform 0.3s ease, box-shadow 0.3s ease;
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.chart-container:hover {
				transform: translateY(-5px);
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
			}

			.chart-title {
				font-size: 1.3em;
				font-weight: 600;
				margin-bottom: 20px;
				color: #2d3748;
				text-align: center;
				padding-bottom: 10px;
				border-bottom: 2px solid #e2e8f0;
			}

			.chart-wrapper {
				position: relative;
				height: 300px;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			.stats-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 20px;
				margin-top: 30px;
			}

			.stat-card {
				background: linear-gradient(135deg, #74b9ff, #0984e3);
				color: white;
				padding: 20px;
				border-radius: 15px;
				text-align: center;
				box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
				transition: transform 0.3s ease;
			}

			.stat-card:hover {
				transform: scale(1.05);
			}

			.stat-number {
				font-size: 2.5em;
				font-weight: bold;
				margin-bottom: 10px;
			}

			.stat-label {
				font-size: 1.1em;
				opacity: 0.9;
			}

			.heatmap-container {
				grid-column: 1 / -1;
				background: white;
				border-radius: 15px;
				padding: 25px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
			}

			.heatmap {
				display: grid;
				grid-template-columns: repeat(8, 1fr);
				gap: 5px;
				margin-top: 20px;
			}

			.heatmap-cell {
				aspect-ratio: 1;
				border-radius: 5px;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 0.8em;
				font-weight: bold;
				color: white;
				transition: transform 0.3s ease;
				cursor: pointer;
			}

			.heatmap-cell:hover {
				transform: scale(1.1);
			}

			.legend {
				display: flex;
				justify-content: center;
				margin-top: 20px;
				gap: 20px;
			}

			.legend-item {
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.legend-color {
				width: 20px;
				height: 20px;
				border-radius: 3px;
			}

			.insights {
				background: linear-gradient(135deg, #f093fb, #f5576c);
				color: white;
				padding: 25px;
				border-radius: 15px;
				margin-top: 30px;
				box-shadow: 0 10px 30px rgba(240, 147, 251, 0.3);
			}

			.insights h2 {
				margin-bottom: 20px;
				font-size: 1.5em;
			}

			.insights ul {
				list-style: none;
				padding: 0;
			}

			.insights li {
				margin-bottom: 10px;
				padding: 10px;
				background: rgba(255, 255, 255, 0.1);
				border-radius: 8px;
				border-left: 4px solid #fff;
			}

			.container .header__main {
				background: linear-gradient(135deg, #74b9ff, #0984e3);
				padding: 20px 0;
				box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
                margin-bottom: 40px;
			}

			.container .header__main .nav__main {
				display: flex;
				justify-content: center;
				gap: 30px;
			}

			.container .header__main .nav__main a {
				color: white;
				text-decoration: none;
				font-size: 30px;
				font-weight: 500;
				padding: 12px 25px;
				border-radius: 25px;
				transition: all 0.3s ease;
				position: relative;
				overflow: hidden;
			}

			.container .header__main .nav__main a::before {
				content: "";
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: rgba(255, 255, 255, 0.1);
				transition: left 0.4s ease;
			}

			.container .header__main .nav__main a:hover::before {
				left: 0;
			}

			.container .header__main .nav__main a:hover {
				transform: translateY(-3px);
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
				background-color: rgba(255, 255, 255, 0.1);
			}

			@media (max-width: 768px) {
				.dashboard {
					grid-template-columns: 1fr;
				}

				.container {
					padding: 20px;
				}

				h1 {
					font-size: 2em;
				}

				.heatmap {
					grid-template-columns: repeat(4, 1fr);
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<header class="header__main">
				<nav class="nav__main">
					<a href="./index.html">T·ªïng quan</a>
					<a href="./analysis_customer.html">Kh√°ch h√†ng</a>
					<a href="./statistic_ticket_time.html">V√©</a>
				</nav>
			</header>
			<div class="header">
				<h1>üìä B√°o c√°o ph√¢n t√≠ch kh√°ch h√†ng</h1>
				<p class="subtitle">
					Th√¥ng tin chi ti·∫øt v·ªÅ kh√°ch h√†ng v√† h√†nh vi ti√™u d√πng
				</p>
			</div>

			<div class="purpose">
				<h2>üéØ M·ª•c ƒë√≠ch</h2>
				<p>
					Hi·ªÉu r√µ kh√°ch h√†ng ƒë·ªÉ c√° nh√¢n h√≥a chi·∫øn l∆∞·ª£c ti·∫øp th·ªã v√†
					d·ªãch v·ª•, t·ªëi ∆∞u h√≥a hi·ªáu qu·∫£ kinh doanh, n√¢ng cao tr·∫£i
					nghi·ªám kh√°ch h√†ng.
				</p>
			</div>

			<div class="dashboard">
				<div class="chart-container">
					<h3 class="chart-title">üìà Ph√¢n b·ªë theo ƒë·ªô tu·ªïi</h3>
					<div class="chart-wrapper">
						<canvas id="ageChart"></canvas>
					</div>
				</div>

				<div class="chart-container">
					<h3 class="chart-title">üë• Ph√¢n b·ªë theo gi·ªõi t√≠nh</h3>
					<div class="chart-wrapper">
						<canvas id="genderChart"></canvas>
					</div>
				</div>

				<div class="chart-container">
					<h3 class="chart-title">üí∞ M·ª©c chi ti√™u kh√°ch h√†ng</h3>
					<div class="chart-wrapper">
						<canvas id="spendingChart"></canvas>
					</div>
				</div>

				<div class="chart-container">
					<h3 class="chart-title">üéØ M·ª•c ƒë√≠ch chuy·∫øn ƒëi</h3>
					<div class="chart-wrapper">
						<canvas id="purposeChart"></canvas>
					</div>
				</div>

				<div class="heatmap-container">
					<h3 class="chart-title">
						üó∫Ô∏è B·∫£n ƒë·ªì nhi·ªát - Ph√¢n b·ªë kh√°ch h√†ng theo ƒë·ªãa l√Ω
					</h3>
					<div
						class="heatmap"
						id="heatmap"></div>
					<div class="legend">
						<div class="legend-item">
							<div
								class="legend-color"
								style="background: #ff4757"></div>
							<span>Cao (>1000)</span>
						</div>
						<div class="legend-item">
							<div
								class="legend-color"
								style="background: #ff6b6b"></div>
							<span>Trung b√¨nh (500-1000)</span>
						</div>
						<div class="legend-item">
							<div
								class="legend-color"
								style="background: #ffa502"></div>
							<span>Th·∫•p (100-500)</span>
						</div>
						<div class="legend-item">
							<div
								class="legend-color"
								style="background: #70a1ff"></div>
							<span>R·∫•t th·∫•p (<100)</span>
						</div>
					</div>
				</div>
			</div>

			<div class="stats-grid">
				<div class="stat-card">
					<div class="stat-number">12,547</div>
					<div class="stat-label">T·ªïng kh√°ch h√†ng</div>
				</div>
				<div class="stat-card">
					<div class="stat-number">8.5M</div>
					<div class="stat-label">Doanh thu (VNƒê)</div>
				</div>
				<div class="stat-card">
					<div class="stat-number">678K</div>
					<div class="stat-label">Chi ti√™u trung b√¨nh</div>
				</div>
				<div class="stat-card">
					<div class="stat-number">85%</div>
					<div class="stat-label">T·ª∑ l·ªá h√†i l√≤ng</div>
				</div>
			</div>

			<div class="insights">
				<h2>üí° Th√¥ng tin chi ti·∫øt</h2>
				<ul>
					<li>
						Nh√≥m tu·ªïi 25-34 chi·∫øm t·ª∑ l·ªá cao nh·∫•t v·ªõi 35% t·ªïng kh√°ch
						h√†ng
					</li>
					<li>
						Kh√°ch h√†ng n·ªØ c√≥ xu h∆∞·ªõng chi ti√™u cao h∆°n nam v·ªõi t·ª∑ l·ªá
						58:42
					</li>
					<li>
						Kh√°ch VIP chi·∫øm 15% nh∆∞ng ƒë√≥ng g√≥p 45% t·ªïng doanh thu
					</li>
					<li>M·ª•c ƒë√≠ch du l·ªãch chi·∫øm 60% t·ªïng s·ªë chuy·∫øn ƒëi</li>
					<li>
						Tp.HCM v√† H√† N·ªôi l√† hai th·ªã tr∆∞·ªùng l·ªõn nh·∫•t v·ªõi 40%
						kh√°ch h√†ng
					</li>
				</ul>
			</div>
		</div>

		<script>
			// D·ªØ li·ªáu m·∫´u
			const provinces = [
				"HCM",
				"HN",
				"ƒêN",
				"HP",
				"CT",
				"BD",
				"VT",
				"TH",
				"NA",
				"BT",
				"QB",
				"GL",
				"HY",
				"BN",
				"LA",
				"KH",
				"AG",
				"KG",
				"CM",
				"BL",
				"TV",
				"ST",
				"TN",
				"DT",
				"VL",
				"DB",
				"LD",
				"LC",
				"HG",
				"NB",
				"PT",
				"QN",
			];

			const heatmapData = [
				1250, 1100, 650, 480, 520, 380, 420, 350, 320, 280, 260, 240,
				220, 200, 180, 160, 150, 140, 130, 120, 110, 100, 95, 90, 85,
				80, 75, 70, 65, 60, 55, 50,
			];

			// T·∫°o heatmap
			function createHeatmap() {
				const heatmap = document.getElementById("heatmap");
				provinces.forEach((province, index) => {
					const cell = document.createElement("div");
					cell.className = "heatmap-cell";
					cell.textContent = province;
					cell.title = `${province}: ${heatmapData[index]} kh√°ch h√†ng`;

					const value = heatmapData[index];
					if (value > 1000) {
						cell.style.background = "#ff4757";
					} else if (value > 500) {
						cell.style.background = "#ff6b6b";
					} else if (value > 100) {
						cell.style.background = "#ffa502";
					} else {
						cell.style.background = "#70a1ff";
					}

					heatmap.appendChild(cell);
				});
			}

			// C·∫•u h√¨nh chung cho bi·ªÉu ƒë·ªì
			const chartOptions = {
				responsive: true,
				maintainAspectRatio: false,
				plugins: {
					legend: {
						position: "bottom",
						labels: {
							padding: 20,
							font: {
								size: 12,
							},
						},
					},
				},
				animation: {
					duration: 2000,
					easing: "easeInOutQuart",
				},
			};

			// Bi·ªÉu ƒë·ªì ƒë·ªô tu·ªïi
			const ageCtx = document.getElementById("ageChart").getContext("2d");
			new Chart(ageCtx, {
				type: "bar",
				data: {
					labels: ["18-24", "25-34", "35-44", "45-54", "55+"],
					datasets: [
						{
							label: "S·ªë l∆∞·ª£ng kh√°ch h√†ng",
							data: [2850, 4391, 2638, 1854, 814],
							backgroundColor: [
								"#ff6b6b",
								"#4ecdc4",
								"#45b7d1",
								"#f9ca24",
								"#f0932b",
							],
							borderWidth: 2,
							borderColor: "#fff",
							borderRadius: 8,
						},
					],
				},
				options: {
					...chartOptions,
					scales: {
						y: {
							beginAtZero: true,
							grid: {
								color: "#f1f3f4",
							},
						},
						x: {
							grid: {
								display: false,
							},
						},
					},
				},
			});

			// Bi·ªÉu ƒë·ªì gi·ªõi t√≠nh
			const genderCtx = document
				.getElementById("genderChart")
				.getContext("2d");
			new Chart(genderCtx, {
				type: "doughnut",
				data: {
					labels: ["N·ªØ", "Nam"],
					datasets: [
						{
							data: [7277, 5270],
							backgroundColor: ["#ff6b6b", "#4ecdc4"],
							borderWidth: 0,
							cutout: "60%",
						},
					],
				},
				options: {
					...chartOptions,
					plugins: {
						...chartOptions.plugins,
						legend: {
							...chartOptions.plugins.legend,
							position: "right",
						},
					},
				},
			});

			// Bi·ªÉu ƒë·ªì chi ti√™u
			const spendingCtx = document
				.getElementById("spendingChart")
				.getContext("2d");
			new Chart(spendingCtx, {
				type: "pie",
				data: {
					labels: ["Kh√°ch VIP", "Kh√°ch th∆∞·ªùng", "Kh√°ch gi√° r·∫ª"],
					datasets: [
						{
							data: [1882, 7528, 3137],
							backgroundColor: ["#f0932b", "#6c5ce7", "#fd79a8"],
							borderWidth: 3,
							borderColor: "#fff",
						},
					],
				},
				options: chartOptions,
			});

			// Bi·ªÉu ƒë·ªì m·ª•c ƒë√≠ch
			const purposeCtx = document
				.getElementById("purposeChart")
				.getContext("2d");
			new Chart(purposeCtx, {
				type: "polarArea",
				data: {
					labels: [
						"Du l·ªãch",
						"C√¥ng t√°c",
						"V·ªÅ qu√™",
						"ThƒÉm ng∆∞·ªùi th√¢n",
					],
					datasets: [
						{
							data: [7528, 2259, 1882, 877],
							backgroundColor: [
								"#74b9ff",
								"#a29bfe",
								"#fd79a8",
								"#fdcb6e",
							],
							borderWidth: 2,
							borderColor: "#fff",
						},
					],
				},
				options: chartOptions,
			});

			// Kh·ªüi t·∫°o heatmap
			createHeatmap();

			// Th√™m hi·ªáu ·ª©ng hover cho stat cards
			document.querySelectorAll(".stat-card").forEach((card) => {
				card.addEventListener("mouseenter", function () {
					this.style.transform = "scale(1.05) rotate(2deg)";
				});

				card.addEventListener("mouseleave", function () {
					this.style.transform = "scale(1) rotate(0deg)";
				});
			});

			// Th√™m hi·ªáu ·ª©ng cho heatmap cells
			document.querySelectorAll(".heatmap-cell").forEach((cell) => {
				cell.addEventListener("click", function () {
					const province = this.textContent;
					const customers = this.title.split(": ")[1];
					alert(`Th√¥ng tin chi ti·∫øt ${province}:\n${customers}`);
				});
			});
		</script>
	</body>
</html>
